<!doctype html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://openlayers.org/en/v3.20.1/css/ol.css" type="text/css">
    <style>
        body, html {
            padding:0;
            margin:0;
        }
        .map {
            height: 100vh;
            width: 100%;
        }
    </style>
    <script src="https://openlayers.org/en/v3.20.1/build/ol-debug.js" type="text/javascript"></script>
    <title>OpenLayers 3 example</title>
</head>
<body>
<div id="map" class="map"></div>
<script type="text/javascript">
    function createStyle() {
        var fill = new ol.style.Fill({color: '#d8e8c8'});
        var stroke = new ol.style.Stroke({color: '#d8e8c8', width: 1});
        var polygon = new ol.style.Style({fill: fill});
        var strokedPolygon = new ol.style.Style({fill: fill, stroke: stroke});
        var line = new ol.style.Style({stroke: stroke});
        var styles = [];
        return function (feature, resolution){
            var length = 0;
            styles[length++] = strokedPolygon;
            styles.length = length;
            return styles;
        }
    }
 /*   var parser = new ol.format.WMTSCapabilities();

    fetch('http://192.168.40.8:3389/geoserver/gwc/service/wmts?REQUEST=GetCapabilities').then(function(response) {
        return response.text();
    }).then(function(text) {
        var result = parser.read(text);
        var wmts = new ol.source.WMTS(ol.source.WMTS.optionsFromCapabilities(result,
            {layer: 'research:pand', matrixSet: 'EPSG:3857', format: 'application/x-protobuf;type=mapbox-vector'})
        );


        var map = new ol.Map({
            target: 'map',
            layers: [
                new ol.layer.Tile({
                    source: new ol.source.OSM()
                }),
                new ol.layer.VectorTile({
                    source: new ol.source.VectorTile({
                        format: new ol.format.MVT(),
                        tileUrlFunction: wmts.getTileUrlFunction(),
                        tileGrid: wmts.getTileGrid()
                    })
                })

            ],
            view: new ol.View({
                center: ol.proj.fromLonLat([4.9, 52.35]),
                zoom: 15
            })
        });
    });*/
    var map = new ol.Map({
    layers: [
        new ol.layer.Tile({
            source: new ol.source.OSM({
                url: 'https://saturnus.geodan.nl/mapproxy/osm/tiles/osmgrayscale_EPSG900913/{z}/{x}/{y}.png?origin=nw'
            })
        }),
        new ol.layer.VectorTile({
            source: new ol.source.VectorTile({
                attributions: 'BAG data: Â© <a href="https://www.kadaster.nl/bag">Kadaster</a> ' +
                'Client: <a href="https://research.geodan.nl/">' +
                'Geodan Research</a>',
                format: new ol.format.MVT(),
                tileGrid: ol.tilegrid.createXYZ({maxZoom: 22}),
                tilePixelRatio: 1.000000001,
                url: 'http://research.geodan.nl/service/geoserver/gwc/service/tms/1.0.0/research%3Apand@World_3857@pbf/' +
                '{z}/{x}/{-y}.pbf'
            })
        })
    ],
        target: 'map',
        view: new ol.View({
            center: ol.proj.fromLonLat([4.9, 52.35]),
            zoom: 15
    })
    });

</script>
</body>
</html>